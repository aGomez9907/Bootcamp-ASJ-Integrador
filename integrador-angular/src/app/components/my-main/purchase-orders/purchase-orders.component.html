<div class="container-fluid px-4">
  <h1 class="mt-4">PURCHASE ORDERS</h1>
  <ol class="breadcrumb mb-4">
    <li class="breadcrumb-item active">Purchase orders</li>
  </ol>
  <div class="text-end">
    <button
      type="button"
      class="btn btn-primary"
      routerLink="/purchase-orders/new"
      id="btn-agregar-proveedor"
    >
      Add new purchase order
    </button>

  </div>
  
  <div class="mb-4">

    <table class="table table-hover">
      <thead>
        <tr>
          <th>Order NÂ°</th>
          <th>Emission date</th>
          <th>Delivery date</th>
          <th>Status</th> 
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let po of activePOs()">
          <td>{{ po.orderNumber }}</td>
          <td>{{ po.emissionDate | date }}</td>
          <td>{{ po.deliveryDate | date }}</td>
          <td>
            <select class="form-select-sm " [(ngModel)]="po.statusId.id" (change)="changeOrderStatus(po)">
              <option *ngFor="let stat of statuses" [value]="stat.id">{{stat.status}}</option>
            </select>
          
          </td>
          <td>
            <div class="d-flex flex-row">
              <button
                type="button"
                class="btn btn-outline-success btn-sm"
                value="{{ po.id }}"
                [routerLink]="['/purchase-orders', po.id]"
              >
                Detalles
              </button>

              
              <!-- <button
                type="button"
                class="btn btn-outline-danger btn-sm"
                value="{{ po.id }}"
                (click)="deletePO(po.id)"
              >
                Borrar
              </button> -->
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="purchaseOrders.length == 0" class="empty-list-message">
      <p>The list of purchase orders is currently empty.</p>
      <p>Would you like to <a href="/purchase-orders/new">add a new purchase order</a>? </p>
    </div>

  </div>
</div>
